<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../Assets/css/upload.css" />
    <title>Upload</title>
  </head>
  <body>
    <form class="upside" id ="new-product">
      <h1>Create new item</h1>
      <h3>Image, Video, Audio, or 3D Model</h3>
      <p>
        File types supported: JPG,PNG,GIF,SVG,MP4,WEBM,MP3,WAV,OGG,GLB,GLTF. Max
        size: 40MB
      </p>
    </div>
    <div class="up-image">
      <img src="../Assets/Images/Art-2.jpeg"  width="250px" height="250px">
      <div class="geturl">
        <input type="url" id="imgurl" placeholder="Upload image link">
      </div>
    </div>

    <div class="name">
      <h2>Name<sup>*</sup></h2>
      <input type="text" id="nftname" placeholder="new nft for demo" />
    </div>
    <div>
      <h2>Price</h2>
      <input type="number" id="price" >
    </div>
    <div class="link">
      <h2>External Link</h2>
      <p>
        Nftguru will include a link to this URL on this item's detail page, so
        that users can click to learn more about it. You are welcome to link to
        your own webpage with more details.
      </p>
      <input
        type="url"
        id="external-link"
        placeholder="https://www.youtube.com/"
      />
    </div>

    <div class="link">
      <h2>Description</h2>
      <p>
        Nftguru will include a link to this URL on this item's detail page, so
        that users can click to learn more about it. You are welcome to link to
        your own webpage with more details.
      </p>
      <textarea id="description"> </textarea>
      <div>
        <button type="submit" id="update">Upload</button>
      </div>
    </form>
  </body>

  <script>

document.getElementById("new-product").addEventListener("submit", function (event) {
  event.preventDefault();

  let updates = {};

  let image_url = document.getElementById("imgurl").value;
  console.log(image_url);
  // updates["image"] = image_url;

  let rating = document.getElementById("nftname").value;
  // console.log(rating);
  // updates["Product_name"] = title;

  let price = document.getElementById("price").value;
  // console.log(title);
  // updates["pro-price"] = title;

  let link = document.getElementById("description").value;
  // console.log(link);
  // updates["link"] = link;

  let obj = {image: image_url, name:rating, p_price: price, p_link: link}
  console.log(obj);

  let all = [];

  if (localStorage.getItem("new_card") != null) {
    all = JSON.parse(localStorage.getItem("new_card"));
    console.log(all);
  }

  all.push(obj);

  localStorage.setItem("new_card", JSON.stringify(all));
});
  </script>
</html>
