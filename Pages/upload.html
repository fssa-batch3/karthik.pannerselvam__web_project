<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../Assets/css/upload.css" />
    <link rel="stylesheet" href="../Assets/css/style.css">
    <link rel="stylesheet" href="./Seller-hero-page.html">
    <title>Upload</title>
  </head>
  <body>
     <header class="header" data-header>
    <div class="container">
      
        <img
          src="../Assets/Images/logo.png"
          width="126"
          height="38"
          alt="home"
          class="logo"
        />

      <nav class="navbar" data-navbar>
        <ul class="navbar-list">
          <li>
            <a href="../Pages/hero-main.html" class="navbar-link label-lg link:hover">Home</a>
          </li>

          <li>
            <a href="../Pages/explore.html" class="navbar-link label-lg link:hover">Explore</a>
          </li>

          <li>
            <a href="../Pages/FAQ's.html" class="navbar-link label-lg link:hover">FAQS</a>
          </li>

        </ul>
      </nav>

        <!-- <button 
          class="btn-icon profil-btn"
          aria-label="Metalink account: naruto"
        >
        <a href="profile.html">
          <img
            src="../Assets/Images/naruto.jpg" 
            width="40"
            height="50"
            alt="Fiona doe"
            class="img1-cover"
          />
        </a>
        </button> -->

      
      </div>
    </div>

    <!-- Upload section -->
  </header>
    <form class="upside" id ="new-product">
      <h1>Create new item</h1>
      <h3>Image, Video, Audio, or 3D Model</h3>
      <p>
        File types supported: JPG,PNG,GIF,SVG,MP4,WEBM,MP3,WAV,OGG,GLB,GLTF. Max
        size: 40MB
      </p>
    <div class="up-image">
      <img src="../Assets/Images/Art-2.jpeg"  width="250px" height="250px">
      <form>
      <div class="geturl">
        <input type="url" id="image" class="Input_details"   placeholder="Upload image link" required="enter a valide link" >
      </div>
    </div>
    <div class="categories">
      <label for="select">Categories :</label>
  <select name="card" id="Categories">
    <option value="Art">Art</option>
    <option value="Anime">Anime</option>
    <option value="Sports">Sports</option>
  </select>
    </div>
    <div class="name">
      <h2>Name<sup>*</sup></h2>
      <input type="text" id="nftname" class="Input_details" placeholder="new nft for demo" pattern="[A-Za-z]{0-16}" required title="Enter only alphabets only" />
    </div>
    <div>
      <h2>Price</h2>
      <input type="text" class="Input_details" id="price" pattern="[0-9]{0-3}" required="Enter your price for the product" >
    </div>
    


    <div class="link">
      <h2>Description</h2>
      <p>
        Nftguru will include a link to this URL on this item's detail page, so
        that users can click to learn more about it. You are welcome to link to
        your own webpage with more details.
      </p>
      <textarea id="description" required="Write the description for your product
      "> </textarea>
      <div>
        <button type="submit" class="btn
        " id="update" href="./upload.html" >Upload</button>
      </div>
    </form>
  </body>

  <script>
     let userdatas = JSON.parse(localStorage.getItem("userdetails"));
    console.log(userdatas);

    let user_data = JSON.parse(localStorage.getItem("user_data"));
    console.log(user_data);

    let user = userdatas.find((e) => e["e_mail"] == user_data);

// Create button element
const button = document.createElement('button');
button.classList.add('btn-icon', 'profil-btn');
button.setAttribute('aria-label', 'Metalink account: naruto');


// Create link element
const link = document.createElement('a');
link.setAttribute('href', 'profile.html');

// Create image element
const image = document.createElement('img');
image.setAttribute('src', userdatas.user_img);
image.setAttribute('width', '40');
image.setAttribute('height', '50');
image.setAttribute('alt', 'Fiona doe');
image.classList.add('img1-cover');

// Append the image element to the link element
link.appendChild(image);

// Append the link element to the button element
button.appendChild(link);

document.querySelector(".container").append(button)

document.getElementById("new-product").addEventListener("submit", function (event) {
  event.preventDefault();

  let Logged_email = JSON.parse(localStorage.getItem("user_data"));


  let image_url = document.getElementById("image");
  // console.log(image_url);
  // updates["image"] = image_url;

  let rating = document.getElementById("nftname");
  // console.log(rating);
  // updates["Product_name"] = title;

  let list = document.getElementById("Categories");

  let price = document.getElementById("price");
  // console.log(title);
  // updates["pro-price"] = title;

  let link = document.getElementById("description");
  // console.log(link);
  // updates["link"] = link;
  let id = crypto.randomUUID();

  let obj = {image: image_url.value, nftname:rating.value,categories: list .value, p_price: price.value, p_link: link.value,uuid:id,email:Logged_email}
  console.log(obj);

  let all = [];
  all.push(obj)

    if (localStorage.getItem("art") === null) {
   localStorage.setItem("art",JSON.stringify(all));
   window.location.href="./Seller-hero-page.html"
  }
  else{
  
   let tot = JSON.parse(localStorage.getItem("art"))
   tot.push(obj)
   localStorage.setItem("art",JSON.stringify(tot));
   window.location.href="./Seller-hero-page.html"
  }
});
  </script>
</html>
